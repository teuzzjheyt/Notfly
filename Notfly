-- Sistema de Notificação do Brainrot Mais Caro com EMBED - MÁXIMA VELOCIDADE
local Players = game:GetService("Players")
local HttpService = game:GetService("HttpService")
local workspace = game:GetService("Workspace")

print("🧠 SISTEMA DE NOTIFICAÇÃO BRAINROT - MÁXIMA VELOCIDADE")

-- WEBHOOKS PARA DIFERENTES VALORES
local WEBHOOK_ABOVE_10M = "https://discord.com/api/webhooks/1422728583113080922/yUC2VEgplhueFqLp5FtJJeW6RvkhelZvwD0c-2S1JdeYPLXihKCXird4N2X0HZwD9B8M"
local WEBHOOK_NORMAL = "https://discord.com/api/webhooks/1426025472176951346/wxSw8KuKOZ4geDzDBl6NYIiyB2Afk-a5_VzLS6yQcHPvEEENdQ0wBzSPS0DiwruvuZdv"

-- Variáveis globais
local lastNotifiedBrainrot = ""
local notificationCooldown = 5 -- segundos (mínimo possível)
local lastNotificationTime = 0
local MINIMUM_VALUE_10M = 10000000 -- 10 milhões por segundo (10M/s)
local MINIMUM_VALUE_NORMAL = 500000 -- 500 mil por segundo (500K/s)

-- Copiar Job ID para clipboard
local jobId = game.JobId
local placeId = game.PlaceId
if setclipboard then
    setclipboard(jobId)
    print("📋 Job ID copiado para clipboard: " .. jobId)
else
    print("❌ setclipboard não disponível, Job ID: " .. jobId)
end

-- Gerar link para entrar no servidor
local function generateJoinLink()
    return string.format("https://chillihub1.github.io/chillihub-joiner/?placeId=%s&gameInstanceId=%s", placeId, jobId)
end

-- Função para formatar números com separadores
local function formatNumber(num)
    local formatted = tostring(num)
    local k = formatted:len()
    while k > 3 do
        formatted = formatted:sub(1, k-3) .. "," .. formatted:sub(k-2)
        k = k - 3
    end
    return formatted
end

-- Função para identificar se um plot pertence ao jogador local
local function isMyPlot(plot)
    if not plot then
        return false
    end
    
    local localPlayer = Players.LocalPlayer
    local localPlayerName = localPlayer.Name
    local localPlayerUserId = localPlayer.UserId
    
    -- MÉTODO 1: Verificar PlotSign -> YourBase (método do delivery)
    local plotSign = plot:FindFirstChild("PlotSign")
    if plotSign then
        local yourBase = plotSign:FindFirstChild("YourBase")
        if yourBase and yourBase.Enabled then
            print("✅ Plot identificado como MEU (YourBase enabled): " .. plot.Name)
            return true
        end
    end
    
    -- MÉTODO 2: Verificar Owner Value
    local ownerValue = plot:FindFirstChild("Owner")
    if ownerValue then
        -- Se for Player object
        if typeof(ownerValue.Value) == "Instance" and ownerValue.Value:IsA("Player") then
            if ownerValue.Value == localPlayer then
                print("✅ Plot identificado como MEU (Owner Player): " .. plot.Name)
                return true
            end
        -- Se for string (nome)
        elseif typeof(ownerValue.Value) == "string" then
            if ownerValue.Value == localPlayerName then
                print("✅ Plot identificado como MEU (Owner Name): " .. plot.Name)
                return true
            end
        end
    end
    
    -- MÉTODO 3: Verificar pelo nome do plot
    local plotName = plot.Name
    if plotName:lower():find(localPlayerName:lower()) then
        print("✅ Plot identificado como MEU (Nome contém): " .. plot.Name)
        return true
    end
    
    -- MÉTODO 4: Verificar OwnerId
    local ownerId = plot:FindFirstChild("OwnerId") or plot:FindFirstChild("UserID") or plot:FindFirstChild("PlayerId")
    if ownerId and ownerId:IsA("NumberValue") then
        if ownerId.Value == localPlayerUserId then
            print("✅ Plot identificado como MEU (OwnerId): " .. plot.Name)
            return true
        end
    end
    
    -- MÉTODO 5: Verificar StringValues
    local ownerString = plot:FindFirstChild("OwnerName") or plot:FindFirstChild("owner") or plot:FindFirstChild("PlayerName")
    if ownerString and ownerString:IsA("StringValue") then
        if ownerString.Value == localPlayerName then
            print("✅ Plot identificado como MEU (OwnerName): " .. plot.Name)
            return true
        end
    end
    
    -- MÉTODO 6: Busca recursiva
    local function searchMyPlotInChildren(parent)
        for _, child in ipairs(parent:GetChildren()) do
            if child:IsA("StringValue") and (child.Name:lower():find("owner") or child.Name:lower():find("player")) then
                if child.Value == localPlayerName then
                    return true
                end
            end
            
            if child:IsA("NumberValue") and (child.Name:lower():find("owner") or child.Name:lower():find("user") or child.Name:lower():find("player")) then
                if child.Value == localPlayerUserId then
                    return true
                end
            end
            
            if child:IsA("Folder") or child:IsA("Model") then
                if searchMyPlotInChildren(child) then
                    return true
                end
            end
        end
        return false
    end
    
    if searchMyPlotInChildren(plot) then
        print("✅ Plot identificado como MEU (Busca recursiva): " .. plot.Name)
        return true
    end
    
    return false
end

-- Função para obter informações do dono do delivery (MÉTODO AVANÇADO)
local function getDeliveryOwnerInfo(plot)
    if not plot then
        return "🤷‍♂️ Dono Desconhecido", "❌ N/A"
    end
    
    print("🔍 Procurando dono do delivery no plot: " .. plot.Name)
    
    -- MÉTODO 1: Procurar por PlotSign -> YourBase (método do código de delivery)
    local plotSign = plot:FindFirstChild("PlotSign")
    if plotSign then
        local yourBase = plotSign:FindFirstChild("YourBase")
        if yourBase then
            print("✅ Encontrado PlotSign com YourBase: " .. tostring(yourBase.Enabled))
            
            -- Se YourBase está enabled, este é o plot do jogador local
            if yourBase.Enabled then
                local localPlayer = Players.LocalPlayer
                local profileLink = "https://www.roblox.com/users/" .. localPlayer.UserId .. "/profile"
                print("👤 Dono identificado (YourBase): " .. localPlayer.Name)
                return localPlayer.Name, profileLink
            end
        end
    end
    
    -- MÉTODO 2: Procurar por ObjectValue "Owner" no plot
    local ownerValue = plot:FindFirstChild("Owner")
    if ownerValue then
        print("✅ Encontrado Owner Value: " .. tostring(ownerValue.Value))
        
        -- Se for um Player object
        if typeof(ownerValue.Value) == "Instance" and ownerValue.Value:IsA("Player") then
            local player = ownerValue.Value
            local profileLink = "https://www.roblox.com/users/" .. player.UserId .. "/profile"
            print("👤 Dono encontrado (Player Object): " .. player.Name)
            return player.Name, profileLink
        
        -- Se for string (nome do jogador)
        elseif typeof(ownerValue.Value) == "string" then
            local ownerName = ownerValue.Value
            print("👤 Dono encontrado (String): " .. ownerName)
            
            -- Procurar jogador online com esse nome
            for _, player in ipairs(Players:GetPlayers()) do
                if player.Name == ownerName then
                    local profileLink = "https://www.roblox.com/users/" .. player.UserId .. "/profile"
                    print("✅ Jogador online encontrado: " .. player.Name)
                    return player.Name, profileLink
                end
            end
            
            -- Se não encontrou online, retorna o nome
            return ownerName, "https://www.roblox.com/search/users?keyword=" .. ownerName
        end
    end
    
    -- MÉTODO 3: Procurar por DeliveryHitbox e relacionar com jogadores
    local deliveryHitbox = plot:FindFirstChild("DeliveryHitbox")
    if deliveryHitbox then
        print("✅ Encontrado DeliveryHitbox no plot")
        
        -- Tentar encontrar o jogador pelo nome do plot
        local plotName = plot.Name
        for _, player in ipairs(Players:GetPlayers()) do
            if plotName:lower():find(player.Name:lower()) then
                local profileLink = "https://www.roblox.com/users/" .. player.UserId .. "/profile"
                print("✅ Dono identificado pelo nome do plot: " .. player.Name)
                return player.Name, profileLink
            end
        end
    end
    
    -- MÉTODO 4: Procurar por StringValue "OwnerName" ou similar
    local ownerString = plot:FindFirstChild("OwnerName") or plot:FindFirstChild("owner") or plot:FindFirstChild("PlayerName")
    if ownerString and ownerString:IsA("StringValue") then
        local ownerName = ownerString.Value
        print("👤 Dono encontrado (StringValue): " .. ownerName)
        
        for _, player in ipairs(Players:GetPlayers()) do
            if player.Name == ownerName then
                local profileLink = "https://www.roblox.com/users/" .. player.UserId .. "/profile"
                return player.Name, profileLink
            end
        end
        return ownerName, "https://www.roblox.com/search/users?keyword=" .. ownerName
    end
    
    -- MÉTODO 5: Procurar por NumberValue (UserID)
    local ownerId = plot:FindFirstChild("OwnerId") or plot:FindFirstChild("UserID") or plot:FindFirstChild("PlayerId")
    if ownerId and ownerId:IsA("NumberValue") then
        local userId = ownerId.Value
        print("👤 UserID encontrado: " .. tostring(userId))
        
        for _, player in ipairs(Players:GetPlayers()) do
            if player.UserId == userId then
                local profileLink = "https://www.roblox.com/users/" .. player.UserId .. "/profile"
                return player.Name, profileLink
            end
        end
        
        -- Se não encontrou online, cria link com o UserID
        return "UserID: " .. userId, "https://www.roblox.com/users/" .. userId .. "/profile"
    end
    
    -- MÉTODO 6: Busca recursiva em todos os filhos do plot
    local function searchInChildren(parent)
        for _, child in ipairs(parent:GetChildren()) do
            -- Verificar StringValues relacionados a dono
            if child:IsA("StringValue") and (child.Name:lower():find("owner") or child.Name:lower():find("player") or child.Name:lower():find("user")) then
                local value = child.Value
                if value and value ~= "" then
                    print("🔍 Encontrado StringValue: " .. child.Name .. " = " .. value)
                    
                    for _, player in ipairs(Players:GetPlayers()) do
                        if player.Name == value then
                            local profileLink = "https://www.roblox.com/users/" .. player.UserId .. "/profile"
                            return player.Name, profileLink
                        end
                    end
                    
                    if value:match("%d+") then
                        local userId = tonumber(value)
                        if userId then
                            return "UserID: " .. userId, "https://www.roblox.com/users/" .. userId .. "/profile"
                        end
                    end
                    
                    return value, "https://www.roblox.com/search/users?keyword=" .. value
                end
            end
            
            -- Verificar NumberValues
            if child:IsA("NumberValue") and (child.Name:lower():find("owner") or child.Name:lower():find("user") or child.Name:lower():find("player")) then
                local userId = child.Value
                print("🔍 Encontrado NumberValue: " .. child.Name .. " = " .. tostring(userId))
                
                for _, player in ipairs(Players:GetPlayers()) do
                    if player.UserId == userId then
                        local profileLink = "https://www.roblox.com/users/" .. player.UserId .. "/profile"
                        return player.Name, profileLink
                    end
                end
                
                return "UserID: " .. userId, "https://www.roblox.com/users/" .. userId .. "/profile"
            end
            
            -- Buscar recursivamente
            if child:IsA("Folder") or child:IsA("Model") then
                local result, profile = searchInChildren(child)
                if result ~= "🤷‍♂️ Dono Desconhecido" then
                    return result, profile
                end
            end
        end
        return "🤷‍♂️ Dono Desconhecido", "❌ N/A"
    end
    
    local result, profile = searchInChildren(plot)
    if result ~= "🤷‍♂️ Dono Desconhecido" then
        return result, profile
    end
    
    -- MÉTODO 7: Tentar encontrar pelo plot number
    local plotNumber = plot.Name:match("Plot (%d+)") or plot.Name:match("(%d+)")
    if plotNumber then
        print("🔍 Plot numerado encontrado: " .. plotNumber)
        local players = Players:GetPlayers()
        local plotNum = tonumber(plotNumber)
        if plotNum and plotNum <= #players then
            local player = players[plotNum]
            local profileLink = "https://www.roblox.com/users/" .. player.UserId .. "/profile"
            return player.Name .. " (Plot " .. plotNumber .. ")", profileLink
        end
    end
    
    print("❌ Não foi possível identificar o dono do delivery")
    return "🤷‍♂️ Dono Desconhecido", "❌ N/A"
end

-- Função para determinar o tipo de brainrot
local function getBrainrotType(valueNum)
    if valueNum >= MINIMUM_VALUE_10M then
        return "HIGH" -- Acima de 10M
    elseif valueNum >= MINIMUM_VALUE_NORMAL then
        return "NORMAL" -- Entre 500K e 10M
    else
        return "LOW" -- Abaixo de 500K (não notifica)
    end
end

-- Função para enviar notificação com EMBED via webhook direto
local function sendEmbedNotification(brainrotName, valuePerSecond, valueNum, brainrotType, plot)
    local joinLink = generateJoinLink()
    local webhookUrl = brainrotType == "HIGH" and WEBHOOK_ABOVE_10M or WEBHOOK_NORMAL
    local color = brainrotType == "HIGH" and 0x00FF00 or 0xFFA500 -- Verde para alto, Laranja para normal
    local title = brainrotType == "HIGH" and "🧠 BRAINROT MAIS CARO DETECTADO!" or "🧠 BRAINROT NORMAL DETECTADO!"
    
    -- Obter informações do dono do delivery (mantido para logs internos)
    local ownerName, ownerProfile = getDeliveryOwnerInfo(plot)
    
    local embedData = {
        username = "Brainrot Scanner",
        embeds = {
            {
                title = title,
                color = color,
                fields = {
                    {
                        name = "📛 Nome do Brainrot",
                        value = brainrotName,
                        inline = true
                    },
                    {
                        name = "💰 Valor por Segundo",
                        value = valuePerSecond,
                        inline = true
                    },
                    {
                        name = "🆔 Job ID",
                        value = "```" .. jobId .. "```",
                        inline = false
                    },
                    {
                        name = "🔗 Link para Entrar",
                        value = "[Clique aqui para entrar no servidor](" .. joinLink .. ")",
                        inline = false
                    },
                    {
                        name = "👥 Jogadores Online",
                        value = tostring(#Players:GetPlayers()) .. "/" .. tostring(Players.MaxPlayers),
                        inline = true
                    },
                    {
                        name = "⏰ Detectado em",
                        value = os.date("%d/%m/%Y %H:%M:%S"),
                        inline = true
                    }
                },
                footer = {
                    text = brainrotType == "HIGH" and "Steal a Brainrot • Scanner Automático • VALOR ALTO" or "Steal a Brainrot • Scanner Automático • Valor Normal"
                },
                timestamp = os.date("!%Y-%m-%dT%H:%M:%SZ")
            }
        }
    }
    
    -- Tentar todos os métodos rapidamente com webhook direto
    local successCount = 0
    
    -- Método 1: request (mais comum)
    local s1, r1 = pcall(function()
        local json = HttpService:JSONEncode(embedData)
        local response = request({
            Url = webhookUrl,
            Method = "POST",
            Headers = {
                ["Content-Type"] = "application/json"
            },
            Body = json
        })
        return response
    end)
    
    if s1 and r1 then
        print("✅ Notificação enviada via webhook! (Método 1)")
        successCount = successCount + 1
    else
        print("❌ Falha Método 1:", r1)
    end
    
    -- Método 2: syn.request
    local s2, r2 = pcall(function()
        local json = HttpService:JSONEncode(embedData)
        local response = syn.request({
            Url = webhookUrl,
            Method = "POST",
            Headers = {
                ["Content-Type"] = "application/json"
            },
            Body = json
        })
        return response
    end)
    
    if s2 and r2 then
        print("✅ Notificação enviada via webhook! (Método 2)")
        successCount = successCount + 1
    else
        print("❌ Falha Método 2:", r2)
    end
    
    -- Método 3: fluxus.request
    local s3, r3 = pcall(function()
        local json = HttpService:JSONEncode(embedData)
        local response = fluxus.request({
            Url = webhookUrl,
            Method = "POST", 
            Headers = {
                ["Content-Type"] = "application/json"
            },
            Body = json
        })
        return response
    end)
    
    if s3 and r3 then
        print("✅ Notificação enviada via webhook! (Método 3)")
        successCount = successCount + 1
    else
        print("❌ Falha Método 3:", r3)
    end
    
    -- Método 4: http_post (alternativa)
    local s4, r4 = pcall(function()
        local json = HttpService:JSONEncode(embedData)
        return http_post(webhookUrl, json, {["Content-Type"] = "application/json"})
    end)
    
    if s4 and r4 then
        print("✅ Notificação enviada via webhook! (Método 4)")
        successCount = successCount + 1
    else
        print("❌ Falha Método 4:", r4)
    end
    
    -- Método 5: http_request (alternativa comum)
    local s5, r5 = pcall(function()
        local json = HttpService:JSONEncode(embedData)
        return http_request({
            Url = webhookUrl,
            Method = "POST",
            Headers = {
                ["Content-Type"] = "application/json"
            },
            Body = json
        })
    end)
    
    if s5 and r5 then
        print("✅ Notificação enviada via webhook! (Método 5)")
        successCount = successCount + 1
    else
        print("❌ Falha Método 5:", r5)
    end
    
    if successCount > 0 then
        local typeMsg = brainrotType == "HIGH" and "VALOR ALTO" or "NORMAL"
        print("🎯 "..successCount.." método(s) funcionaram no webhook "..typeMsg.."!")
        print("🔗 Link gerado: " .. joinLink)
        print("👤 Dono do delivery: " .. ownerName .. " (apenas interno)")
        return true
    else
        print("💥 Todos os métodos falharam com o webhook")
        return false
    end
end

-- Função alternativa simplificada caso a principal falhe
local function sendSimpleNotification(brainrotName, valuePerSecond, valueNum, brainrotType, plot)
    local joinLink = generateJoinLink()
    local webhookUrl = brainrotType == "HIGH" and WEBHOOK_ABOVE_10M or WEBHOOK_NORMAL
    local typeMsg = brainrotType == "HIGH" and "🧠 **BRAINROT MAIS CARO DETECTADO!**" or "🧠 **BRAINROT NORMAL DETECTADO!**"
    
    -- Obter informações do dono do delivery (mantido para logs internos)
    local ownerName, ownerProfile = getDeliveryOwnerInfo(plot)
    
    local simpleData = {
        content = typeMsg .. "\n" ..
            "📛 **Nome:** " .. brainrotName .. "\n" ..
            "💰 **Valor:** " .. valuePerSecond .. "/s\n" ..
            "🆔 **Job ID:** `" .. jobId .. "`\n" ..
            "🔗 **Link para Entrar:** " .. joinLink .. "\n" ..
            "👥 **Jogadores:** " .. tostring(#Players:GetPlayers()) .. "/" .. tostring(Players.MaxPlayers) .. "\n" ..
            "⏰ **Hora:** " .. os.date("%d/%m/%Y %H:%M:%S"),
        username = "Brainrot Scanner"
    }
    
    local json = HttpService:JSONEncode(simpleData)
    
    -- Tentar método mais simples
    local s, r = pcall(function()
        return syn.request({
            Url = webhookUrl,
            Method = "POST",
            Headers = {
                ["Content-Type"] = "application/json"
            },
            Body = json
        })
    end)
    
    if s then
        local typeMsg = brainrotType == "HIGH" and "VALOR ALTO" or "NORMAL"
        print("✅ Notificação simples enviada via webhook "..typeMsg.."!")
        print("🔗 Link gerado: " .. joinLink)
        print("👤 Dono do delivery: " .. ownerName .. " (apenas interno)")
        return true
    end
    
    return false
end

-- FUNÇÕES DE DETECÇÃO OTIMIZADAS
local function parseValue(str)
    if not str then return 0 end
    local cleanStr = string.gsub(str, "/s", "")
    local num, suffix = string.match(cleanStr, "[$]?[%s]*([%d%.]+)[%s]*([MKBT]?)")
    if not num then return 0 end
    num = tonumber(num)
    if not num then return 0 end
    if suffix == "K" then num = num * 1e3
    elseif suffix == "M" then num = num * 1e6
    elseif suffix == "B" then num = num * 1e9
    elseif suffix == "T" then num = num * 1e12 end
    return num
end

-- Função para encontrar o melhor brainrot IGNORANDO o plot do jogador
local function findBestBrainrot_IgnoreMyPlot()
    local best = { podium = nil, animalModel = nil, name = "", valueStr = "", valueNum = 0, plot = nil }
    
    for _, plot in ipairs(workspace.Plots:GetChildren()) do
        -- VERIFICAR SE É O PLOT DO JOGADOR E IGNORAR
        if isMyPlot(plot) then
            print("🚫 Ignorando plot do jogador: " .. plot.Name)
        else
            -- Procurar brainrots apenas em plots que NÃO são do jogador
            local animalPodiums = plot:FindFirstChild("AnimalPodiums")
            if animalPodiums then
                for _, podium in ipairs(animalPodiums:GetChildren()) do
                    local attach = podium:FindFirstChild("Base") and podium.Base:FindFirstChild("Spawn") and podium.Base.Spawn:FindFirstChild("Attachment")
                    if attach and attach:FindFirstChild("AnimalOverhead") then
                        local overhead = attach.AnimalOverhead
                        local displayName = overhead:FindFirstChild("DisplayName")
                        local generation = overhead:FindFirstChild("Generation")
                        local hasAnimal = false
                        for _, obj in ipairs(podium:GetChildren()) do
                            if (obj:IsA("Model") or obj:IsA("MeshPart") or obj:IsA("Part")) and obj.Name ~= "Base" then
                                hasAnimal = true
                                break
                            end
                        end
                        if displayName and generation and displayName:IsA("TextLabel") and generation:IsA("TextLabel") and hasAnimal then
                            local valueNum = parseValue(generation.Text)
                            if valueNum > best.valueNum then
                                best.valueNum = valueNum
                                best.valueStr = generation.Text
                                best.name = displayName.Text
                                best.podium = podium
                                best.plot = plot -- Salva a referência do plot
                                for _, obj in ipairs(podium:GetChildren()) do
                                    if (obj:IsA("Model") or obj:IsA("MeshPart") or obj:IsA("Part")) and obj.Name ~= "Base" then
                                        best.animalModel = obj
                                        break
                                    end
                                end
                            end
                        end
                    end
                end
            end
        end
    end
    return best
end

-- FUNÇÃO PRINCIPAL DE NOTIFICAÇÃO DO BRAINROT - MÁXIMA VELOCIDADE
local function checkAndNotifyBestBrainrot()
    local currentTime = tick()
    
    -- Verificar cooldown (mínimo)
    if currentTime - lastNotificationTime < notificationCooldown then
        return
    end
    
    -- Verificação RÁPIDA apenas com método mais eficiente IGNORANDO plot do jogador
    local best = findBestBrainrot_IgnoreMyPlot()
    
    if best.name == "" or not best.animalModel then
        return
    end
    
    -- Verificar o tipo de brainrot
    local brainrotType = getBrainrotType(best.valueNum)
    
    -- Ignorar brainrots abaixo de 500K
    if brainrotType == "LOW" then
        print("⏭️ Brainrot ignorado: " .. best.name .. " - " .. best.valueStr .. " (" .. formatNumber(best.valueNum) .. "/s - Abaixo de 500K)")
        return
    end
    
    -- Criar identificador único para este brainrot
    local brainrotIdentifier = best.name .. "_" .. best.valueStr
    
    -- Verificar se já notificamos este brainrot
    if brainrotIdentifier == lastNotifiedBrainrot then
        return
    end
    
    local typeMsg = brainrotType == "HIGH" and "🎯 BRAINROT VALOR ALTO" or "🎯 BRAINROT NORMAL"
    print(typeMsg .. ": " .. best.name .. " - " .. best.valueStr .. " (" .. formatNumber(best.valueNum) .. "/s)")
    
    -- Tentar enviar notificação com EMBED via webhook
    local success = sendEmbedNotification(best.name, best.valueStr, best.valueNum, brainrotType, best.plot)
    
    -- Se falhar, tentar método simplificado
    if not success then
        print("🔄 Tentando método simplificado...")
        success = sendSimpleNotification(best.name, best.valueStr, best.valueNum, brainrotType, best.plot)
    end
    
    if success then
        lastNotifiedBrainrot = brainrotIdentifier
        lastNotificationTime = currentTime
        local typeMsg = brainrotType == "HIGH" and "VALOR ALTO" or "NORMAL"
        print("✅ Notificação "..typeMsg.." registrada com sucesso!")
    else
        print("💥 Falha ao enviar notificação via webhook")
    end
end

-- SISTEMA DE MONITORAMENTO ULTRA RÁPIDO
print("🚀 INICIANDO MONITORAMENTO ULTRA RÁPIDO")
print("📡 Webhooks configurados:")
print("   🟢 Acima de 10M: Webhook VALOR ALTO")
print("   🟠 500K a 10M: Webhook Valor Normal")
print("   🔴 Abaixo de 500K: Não notifica")
print("🆔 Job ID: " .. jobId)
print("🎮 Place ID: " .. placeId)
print("💰 Filtros: 10M+ (Alto) | 500K-10M (Normal) | <500K (Ignorado)")
print("🚫 IGNORANDO brainrots do próprio jogador")
print("🔗 Sistema de link ativado")

-- Loop principal de verificação - MÁXIMA VELOCIDADE
while true do
    local success, err = pcall(function()
        checkAndNotifyBestBrainrot()
    end)
    
    if not success then
        print("⚠️ Erro no monitoramento: " .. tostring(err))
    end
    
    wait(0.5) -- 0.5 segundos entre verificações
end
